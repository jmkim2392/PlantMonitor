<!DOCTYPE HTML>
<html lang="en">

<head>
    <title>Plant Monitor</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="base.css">
</head>

<body>
    <div id="humidityChart">
        <canvas id="humChart"></canvas>
    </div>
</body>

</html>
<script src="/dist/Chart.js"></script>

<script>
    // need to initialize firebase and link first 


    // get timestamp
    var now;
    var curMonth;
    var curYear;
    var curDay;
    now = new Date();
    curMonth = now.getMonth();
    curYear = now.getFullYear();

    // read temperature data from firebase
    var humIndex = 0;
    var humTimeList[];
    var humValList[];
    var humidityRef = firebase.database().ref().child(curYear).child(curMonth);
    humidityRef.onChildAdded().('value').then(function(data) {
        data.forEach(function(data) {
            humTimeList[humIndex] = data.key;
            humValList[humIndex] = data.val();
            humIndex++;
        });
    });




    var data = {
        labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul"],
        datasets: [{
            label: "Dataset #1",
            backgroundColor: "rgba(255,99,132,0.2)",
            borderColor: "rgba(255,99,132,1)",
            borderWidth: 2,
            hoverBackgroundColor: "rgba(255,99,132,0.4)",
            hoverBorderColor: "rgba(255,99,132,1)",
            data: [65, 59, 20, 81, 56, 55, 40],
        }]
    };

    var options = {
        maintainAspectRatio: false,
        scales: {
            yAxes: [{
                stacked: true,
                gridLines: {
                    display: true,
                    color: "rgba(255,99,132,0.2)"
                }
            }],
            xAxes: [{
                gridLines: {
                    display: false
                }
            }]
        }
    };

    Chart.Bar('humChart', {
        options: options,
        data: data
    });

</script>
